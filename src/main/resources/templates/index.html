<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8"/>
    <title>分布式数据库查询平台</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/default.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/5.3.1/dist/css/bootstrap.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/select2/4.1.0-rc.0/dist/css/select2.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/codemirror/6.65.7/lib/codemirror.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/codemirror/6.65.7/addon/hint/show-hint.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/codemirror/6.65.7/theme/eclipse.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/codemirror/6.65.7/theme/idea.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/codemirror/6.65.7/theme/neat.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/codemirror/6.65.7/theme/material-darker.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap-table/1.22.1/dist/bootstrap-table.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap-icons/1.10.5/font/bootstrap-icons.css}">
</head>

<body>
<div class="container-fluid">
    <main>
        <nav class="navbar navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="#" th:href="@{/}">
                    分布式数据库查询平台
                </a>
            </div>
        </nav>
        <div class="row g-5">
            <form class="needs-validation" novalidate>
                <div class="row g-3">
                    <div class="col-sm-4">
                        <label for="select" class="form-label">数据源</label>
                        <select class="select2-search form-select" id="select" name="select"
                                aria-hidden="true">
                            <option value="">请选择</option>
                            <option th:each="result : ${appNameList}" th:value="${result}"
                                    th:text="${result}" th:selected="${result eq appName}"></option>
                        </select>
                    </div>

                    <div class="col-sm-4">
                        <label for="env" class="form-label">环境</label>
                        <select class="select2-env form-select" id="env" name="env"
                                aria-hidden="true" tabindex="-1">
                        </select>
                    </div>
                    <div class="col-sm-4">
                        <label for="sql" class="form-label">常用脚本</label>
                        <select class="select2-sql form-select" id="sql" name="sql"
                                aria-hidden="true" tabindex="-1">
                        </select>
                    </div>
                    <div class="col-sm-4">
                        <button class="w-100 btn btn-outline-primary btn-sm" type="button">
                            修改数据源
                        </button>
                    </div>
                    <div class="col-sm-4">
                        <button class="w-100 btn btn-outline-primary btn-sm" type="button"
                                onclick="getTableAndColumn('update')">
                            刷新提示
                        </button>
                    </div>
                    <div class="col-sm-4">
                        <button class="w-100 btn btn-outline-primary btn-sm" type="button" onclick="saveSQL()">
                            <span id="boot">新增脚本</span>
                        </button>
                    </div>
                    <div class="col-12">
                        <label for="code" class="form-label">SQL脚本</label>
                        <textarea class="form-control" id="code" name="info" rows="12"></textarea>
                    </div>
                    <button class="w-100 btn btn-primary btn-lg" type="button" onclick="executeSQL(0)">查询
                    </button>
                </div>
            </form>
        </div>
        <ul class="nav nav-tabs" id="resultTab" role="tablist">
        </ul>
        <div class="tab-content" id="resultTabContent">
        </div>
    </main>
</div>

<section id="createTable">

</section>
<!-- Javascript-->
<script type="text/javascript" th:src="@{/webjars/codemirror/6.65.7/lib/codemirror.js}"></script>
<script type="text/javascript" th:src="@{/webjars/codemirror/6.65.7/addon/edit/matchbrackets.js}"></script>
<script type="text/javascript" th:src="@{/webjars/codemirror/6.65.7/mode/sql/sql.js}"></script>
<script type="text/javascript" th:src="@{/webjars/codemirror/6.65.7/addon/hint/show-hint.js}"></script>
<script type="text/javascript" th:src="@{/webjars/codemirror/6.65.7/addon/hint/sql-hint.js}"></script>
<script type="text/javascript" th:src="@{/webjars/sql-formatter/12.0.3/dist/sql-formatter.min.js}"></script>
<script type="text/javascript" th:src="@{/webjars/jquery/3.7.0/dist/jquery.min.js}"></script>
<script type="text/javascript" th:src="@{/webjars/bootbox/6.0.0/dist/bootbox.min.js}"></script>
<script type="text/javascript" th:src="@{/webjars/select2/4.1.0-rc.0/dist/js/select2.min.js}"></script>
<script type="text/javascript" th:src="@{/webjars/bootstrap/5.3.1/dist/js/bootstrap.bundle.min.js}"></script>
<script type="text/javascript" th:src="@{/webjars/bootstrap-table/1.22.1/dist/bootstrap-table.min.js}"></script>
<script type="text/javascript" th:src="@{/webjars/bootstrap-table/1.22.1/dist/locale/bootstrap-table-zh-CN.min.js}"></script>
<script type="text/javascript" th:src="@{/js/default.js}"></script>
</body>

</html>